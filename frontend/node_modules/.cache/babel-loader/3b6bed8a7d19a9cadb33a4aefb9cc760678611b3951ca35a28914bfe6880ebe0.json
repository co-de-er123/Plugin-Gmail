{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\CascadeProjects\\\\gmail-capsyl-plugin\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [emails, setEmails] = useState([]);\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const response = await fetch('http://localhost:8080/user', {\n          credentials: 'include'\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setUser(data);\n        } else {\n          setUser(null);\n        }\n      } catch (err) {\n        setError('Could not connect to the backend. Is it running?');\n        setUser(null);\n      }\n    };\n    fetchUser();\n  }, []);\n  const login = () => {\n    window.location.href = 'http://localhost:8080/oauth2/authorization/google';\n  };\n  const logout = async () => {\n    await fetch('http://localhost:8080/logout', {\n      method: 'POST',\n      credentials: 'include'\n    });\n    setUser(null);\n    setEmails([]);\n  };\n  const getEmails = async () => {\n    try {\n      const response = await fetch('http://localhost:8080/api/emails', {\n        credentials: 'include'\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setEmails(data);\n      } else {\n        console.error(\"Failed to fetch emails\");\n      }\n    } catch (err) {\n      console.error(\"Error fetching emails:\", err);\n    }\n  };\n  const handleEmailClick = email => {\n    alert(`Selected email ID: ${email.id}`);\n  };\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"App-header\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 33\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Gmail Plugin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), user && user.name !== 'Guest' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Welcome, \", user.name, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: getEmails,\n          children: \"Get Recent Emails with Attachments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"email-list\",\n          children: emails.map(email => /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => handleEmailClick(email),\n            children: email.subject\n          }, email.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: login,\n        children: \"Login with Google\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"cSiftjyug8sLihYPDFLKdnNru/k=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","App","_s","user","setUser","error","setError","emails","setEmails","fetchUser","response","fetch","credentials","ok","data","json","err","login","window","location","href","logout","method","getEmails","console","handleEmailClick","email","alert","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","onClick","map","subject","_c","$RefreshReg$"],"sources":["C:/Users/Hp/CascadeProjects/gmail-capsyl-plugin/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [emails, setEmails] = useState([]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const response = await fetch('http://localhost:8080/user', { credentials: 'include' });\n        if (response.ok) {\n          const data = await response.json();\n          setUser(data);\n        } else {\n          setUser(null);\n        }\n      } catch (err) {\n        setError('Could not connect to the backend. Is it running?');\n        setUser(null);\n      }\n    };\n    fetchUser();\n  }, []);\n\n  const login = () => {\n    window.location.href = 'http://localhost:8080/oauth2/authorization/google';\n  };\n\n  const logout = async () => {\n    await fetch('http://localhost:8080/logout', { method: 'POST', credentials: 'include' });\n    setUser(null);\n    setEmails([]);\n  };\n\n  const getEmails = async () => {\n    try {\n      const response = await fetch('http://localhost:8080/api/emails', { credentials: 'include' });\n      if (response.ok) {\n        const data = await response.json();\n        setEmails(data);\n      } else {\n        console.error(\"Failed to fetch emails\");\n      }\n    } catch (err) {\n      console.error(\"Error fetching emails:\", err);\n    }\n  };\n\n  const handleEmailClick = (email) => {\n    alert(`Selected email ID: ${email.id}`);\n  };\n\n  if (error) {\n    return <div className=\"App\"><header className=\"App-header\"><p>{error}</p></header></div>;\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Gmail Plugin</h1>\n        {user && user.name !== 'Guest' ? (\n          <div>\n            <p>Welcome, {user.name}!</p>\n            <button onClick={logout}>Logout</button>\n            <hr />\n            <button onClick={getEmails}>Get Recent Emails with Attachments</button>\n            <ul className=\"email-list\">\n              {emails.map((email) => (\n                <li key={email.id} onClick={() => handleEmailClick(email)}>\n                  {email.subject}\n                </li>\n              ))}\n            </ul>\n          </div>\n        ) : (\n          <button onClick={login}>Login with Google</button>\n        )}\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}